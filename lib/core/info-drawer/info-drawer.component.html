<adf-info-drawer-layout>
    <div *ngIf="title" info-drawer-title>{{title}}</div>
    <ng-content *ngIf="!title" info-drawer-title select="[info-drawer-title]"></ng-content>

    <ng-content info-drawer-buttons select="[info-drawer-buttons]"></ng-content>

    <ng-container info-drawer-content *ngIf="showTabLayout(); then tabLayout else singleLayout"></ng-container>

    <ng-template #tabLayout>
        <mat-tab-group [(selectedIndex)]="selectedIndex" class="adf-info-drawer-tabs" (selectedTabChange)="onTabChange($event)">
            <mat-tab class="adf-info-drawer-tab" *ngFor="let contentBlock of contentBlocks">
                <ng-template mat-tab-label>
                    <div class="mouseInteraction" (mouseenter)="mouseOnTab()" (mouseleave)="mouseOnTab()">
                        <img *ngIf="contentBlock.icon" [src]="contentBlock.icon">
                        <p>{{ contentBlock.label }}</p>
                        <button mat-icon-button  (click)="onCloseClick()" *ngIf="contentBlock.closeable && mouseOn">
                            <mat-icon>close</mat-icon>
                        </button>
                    </div>
                </ng-template>
                <ng-container *ngTemplateOutlet="contentBlock.content"></ng-container>
            </mat-tab>
        </mat-tab-group>
    </ng-template>

    <ng-template #singleLayout>
        <ng-content select="[info-drawer-content]"></ng-content>
    </ng-template>
</adf-info-drawer-layout>
